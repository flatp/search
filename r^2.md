# 回帰

## ランダムフォレスト回帰
### 基本情報
![a](ana4_202302人気度_top_combinations.png)
![a](ana4_202302知名度_top_combinations.png)
![a](ana4_pop_diff_top_combinations.png)
![a](ana4_aware_diff_top_combinations.png)

### 元の数値を特徴量に追加
![a](ana6_202302人気度_top_combinations.png)
![a](ana6_202302知名度_top_combinations.png)

### PR,BRを特徴量に追加
![a](ana10_202302人気度_top_combinations.png)
![a](ana10_202302知名度_top_combinations.png)
![a](ana11_pop_diff_top_combinations.png)
![a](ana11_aware_diff_top_combinations.png)

### y対数変換
![a](ana16_202302人気度_top_combinations.png)
![a](ana16_202302知名度_top_combinations.png)

### スコア及びPV数対数変換
![a](ana17_202302人気度_top_combinations.png)
![a](ana17_202302知名度_top_combinations.png)
![a](ana17_pop_diff_top_combinations.png)
![a](ana17_aware_diff_top_combinations.png)

### スコア及びPV数及びy対数変換
![a](ana18_202302人気度_top_combinations.png)
![a](ana18_202302知名度_top_combinations.png)

## 線形回帰
### 基本情報
![a](ana20_202302人気度_top_combinations.png)
![a](ana20_202302知名度_top_combinations.png)
![a](ana20_pop_diff_top_combinations.png)
![a](ana20_aware_diff_top_combinations.png)

### y対数変換
![a](ana21_202302人気度_top_combinations.png)
![a](ana21_202302知名度_top_combinations.png)

### スコア及びPV数対数変換
![a](ana19_202302人気度_top_combinations.png)
![a](ana19_202302知名度_top_combinations.png)
![a](ana19_pop_diff_top_combinations.png)
![a](ana19_aware_diff_top_combinations.png)

### スコア及びPV数及びy対数変換
![a](ana15_202302人気度_top_combinations.png)
![a](ana15_202302知名度_top_combinations.png)

# Publisherスコアを追加
- pub_score1 ... バースト日数/発行ニュース数
- pub_score2 ... バーストPV数合計/発行ニュース数
- pub_score3 ... バースト下ニュース数/発行ニュース数
これら累計スコアをタレントごとに算出し特徴量に追加

![a](correlation.png)

## ランダムフォレスト回帰
![a](ana22_202302人気度_top_combinations2.png)
![a](ana22_202302知名度_top_combinations2.png)
![a](ana22_pop_diff_top_combinations2.png)
![a](ana22_aware_diff_top_combinations2.png)
### y対数変換
![a](ana23_202302人気度_top_combinations2.png)
![a](ana23_202302知名度_top_combinations2.png)

## 線形回帰
![a](ana24_202302人気度_top_combinations2.png)
![a](ana24_202302知名度_top_combinations2.png)
![a](ana24_pop_diff_top_combinations2.png)
![a](ana24_aware_diff_top_combinations2.png)

### y対数変換
![a](ana25_202302人気度_top_combinations2.png)
![a](ana25_202302知名度_top_combinations2.png)

# PVに時系列減衰を追加
- weightedPV1 ... $\frac{1.84}{(log_{10} t)^{1.25} + 1.84}$ (エビングハウスの忘却曲線)
- weightedPV2 ... $\frac{1.84}{(log_{10} d)^{1.25} + 1.84}$
- weightedPV3 ... $e^{-0.05 d}$
- weightedPV4 ... $e^{-0.4 d}$
- weightedPV5 ... $e^{-0.4 d} + d^{-0.3}$ (Two-Phase Collective Memory Decay Model)

![a](correlation_weightedPV_regression2.png)

![a](ana30_202302人気度_top_combinations.png)
![a](ana30_202302知名度_top_combinations.png)
![a](ana30_pop_diff_top_combinations.png)
![a](ana30_aware_diff_top_combinations.png)

## バースト時のPVのみ可算
![a](correlation_weightedPV_regression4.png)
![a](burstPV-awarediff3.png)

![a](ana40_202302人気度_top_combinations.png)
![a](ana40_202302知名度_top_combinations.png)
![a](ana40_pop_diff_top_combinations.png)
![a](ana40_aware_diff_top_combinations.png)

## 2022年8月の数値を追加
![a](ana41_202302人気度_top_combinations.png)
![a](ana41_202302知名度_top_combinations.png)
![a](ana41_pop_diff_top_combinations.png)
![a](ana41_aware_diff_top_combinations.png)

# バーストの確認
![a](burst_visualization_10_with_MA.png)

![a](burst_plt.png)

# アルゴリズム発見

## "202208知名度", "pub_score2", "weightedPV5", "browserank" -> 知名度変化量

![a](kaiki4.png)

![a](kaiki5.png)

![a](kaiki2.png)

![a](kaiki3.png)

```
========== Linear Regression ==========
Coefficients: [-1.67447656e-02 -9.19420767e-07  2.56553129e-05 -8.32940300e+01]
Intercept: 0.8499252216969331
R2: 0.20416196775114148
RMSE: 2.4867984800489094

========== Polynomial Regression (degree=2) ==========
R2: -1.8789023673964587
RMSE: 4.729788454037138
Intercept: -1.7027825494344093
Coefficients:
202208知名度                 5.655405e-02
pub_score2                5.877297e-06
weightedPV5               3.057733e-05
browserank                3.521921e+02
202208知名度^2              -3.823471e-04
202208知名度 pub_score2     -7.407233e-08
202208知名度 weightedPV5    -2.895566e-07
202208知名度 browserank     -1.654332e+00
pub_score2^2             -1.430016e-12
pub_score2 weightedPV5    1.304346e-11
pub_score2 browserank     4.165887e-05
weightedPV5^2             3.274579e-12
weightedPV5 browserank   -2.294582e-03
browserank^2             -2.366396e+00
dtype: float64

========== Lasso Regression (on Poly features) ==========
R2: 0.004112438848921207
RMSE: 2.7818480376002626
Intercept: -1.7507311669667505
Coefficients:
202208知名度                 5.633164e-02
pub_score2                6.929740e-06
weightedPV5               3.067617e-05
202208知名度^2              -3.769277e-04
202208知名度 pub_score2     -7.827648e-08
202208知名度 weightedPV5    -2.858602e-07
pub_score2^2             -1.843491e-12
pub_score2 weightedPV5    7.804533e-12
pub_score2 browserank     1.607488e-04
weightedPV5^2             8.197097e-12
weightedPV5 browserank   -1.270507e-03
dtype: float64
```

## "202208知名度", "weightedPV5" -> 知名度変化量

![a](kaiki6.png)

```
========== Polynomial Regression (degree=3) ==========
R2: 0.2081368536786512
RMSE: 2.480580434817624
Intercept: -1.3600783912423176
Coefficients:
202208知名度                  4.964186e-06
weightedPV5                5.575302e-05
202208知名度^2                2.404403e-04
202208知名度 weightedPV5      3.062265e-07
weightedPV5^2             -1.464725e-10
202208知名度^3                1.579057e-07
202208知名度^2 weightedPV5   -1.064952e-08
202208知名度 weightedPV5^2    1.506550e-12
weightedPV5^3              1.038124e-16
dtype: float64

========== Lasso Regression (on Poly features) ==========
R2: 0.2081392469848441
RMSE: 2.4805766861945
Intercept: -1.3598839070573072
Coefficients:
weightedPV5                5.575029e-05
202208知名度^2                2.404261e-04
202208知名度 weightedPV5      3.063175e-07
weightedPV5^2             -1.464656e-10
202208知名度^3                1.585006e-07
202208知名度^2 weightedPV5   -1.065026e-08
202208知名度 weightedPV5^2    1.506475e-12
weightedPV5^3              1.037972e-16
dtype: float64
```

## "202208知名度", "weightedPV4", "weightedPV5", "browserank" -> 知名度変化量

![a](kaiki13.png)

![a](kaiki10.png)

![a](kaiki11.png)

![a](kaiki12.png)

```
========== Linear Regression ==========
Coefficients: [-1.80729875e-02 -9.46923394e-05  2.68109260e-05 -1.03345331e+02]
Intercept: 0.8725052107411819
R2: 0.21039374259051724
RMSE: 2.4770429617109255

========== Polynomial Regression (degree=2) ==========
R2: 0.03311432328907682
RMSE: 2.7410427674210447
Intercept: -1.4612248686828042
Coefficients:
202208知名度                  5.610608e-02
weightedPV4               -2.602448e-04
weightedPV5                5.202007e-05
browserank                 4.737083e+02
202208知名度^2               -4.440167e-04
202208知名度 weightedPV4      4.040255e-06
202208知名度 weightedPV5     -5.174285e-07
202208知名度 browserank      -4.791438e+00
weightedPV4^2              1.207667e-09
weightedPV4 weightedPV5   -5.802150e-10
weightedPV4 browserank     1.166611e-02
weightedPV5^2              2.152184e-11
weightedPV5 browserank    -2.252509e-03
browserank^2               5.452018e+03
dtype: float64

========== Lasso Regression (on Poly features) ==========
R2: 0.05051371297543761
RMSE: 2.716267871630445
Intercept: -1.5205263441050525
Coefficients:
202208知名度                  6.004719e-02
weightedPV4               -2.514762e-04
weightedPV5                5.471924e-05
202208知名度^2               -4.744868e-04
202208知名度 weightedPV4      4.237673e-06
202208知名度 weightedPV5     -5.721186e-07
weightedPV4^2              1.205919e-09
weightedPV4 weightedPV5   -7.001994e-10
weightedPV4 browserank     6.320732e-03
weightedPV5^2              1.919211e-11
weightedPV5 browserank    -6.431878e-04
dtype: float64
```

## "202208人気度", "202208知名度", "pub_score2", "weightedPV5", "burst_weightedPV5", "browserank", "pagerank", "all_news_count" -> 知名度変化量

![a](kaiki100.png)

![a](kaiki101.png)

```
========== Linear Regression ==========
Coefficients: [-7.43793820e-02  4.26785348e-03  2.66178939e-07  3.28035726e-05
 -2.78403917e-05 -4.63165925e+01 -2.73770559e+02 -1.69967740e-03]
Intercept: 0.47757288683894694
R2: 0.23238623797655844
RMSE: 2.442303458818097

========== Polynomial Regression (degree=2) ==========
R2: -1.7167897831417642
RMSE: 4.594690537670239
Intercept: -1.6391934161227295
Coefficients:
202208人気度                           6.161509e-02
202208知名度                           2.782441e-02
pub_score2                          1.261127e-05
weightedPV5                         1.827384e-05
burst_weightedPV5                   6.368522e-05
browserank                         -1.601911e-02
pagerank                            1.092409e-04
all_news_count                     -9.296336e-03
202208人気度^2                         1.280267e-03
202208人気度 202208知名度                -1.638146e-03
202208人気度 pub_score2                3.875574e-07
202208人気度 weightedPV5              -1.394691e-06
202208人気度 burst_weightedPV5         2.756938e-06
202208人気度 browserank               -3.944544e-01
202208人気度 pagerank                 -1.154884e-03
202208人気度 all_news_count           -4.550232e-04
202208知名度^2                         5.032979e-05
202208知名度 pub_score2               -2.628617e-07
202208知名度 weightedPV5               4.673004e-07
202208知名度 burst_weightedPV5        -2.087751e-06
202208知名度 browserank               -1.659457e+00
202208知名度 pagerank                 -6.281802e-03
202208知名度 all_news_count            2.424554e-04
pub_score2^2                       -7.984273e-12
pub_score2 weightedPV5             -7.034525e-11
pub_score2 burst_weightedPV5        4.093247e-10
pub_score2 browserank               5.410985e-04
pub_score2 pagerank                 5.213486e-03
pub_score2 all_news_count           2.667098e-08
weightedPV5^2                       4.607977e-11
weightedPV5 burst_weightedPV5      -3.934169e-10
weightedPV5 browserank              1.633580e-03
weightedPV5 pagerank                3.143585e-02
weightedPV5 all_news_count          1.119705e-07
burst_weightedPV5^2                 2.789677e-10
burst_weightedPV5 browserank       -9.808890e-03
burst_weightedPV5 pagerank         -1.087228e-01
burst_weightedPV5 all_news_count   -5.656909e-07
browserank^2                        2.015349e-05
browserank pagerank                 1.629105e-07
browserank all_news_count          -9.085343e-01
pagerank^2                          4.308777e-07
pagerank all_news_count            -9.341056e-05
all_news_count^2                   -2.778535e-05
dtype: float64

========== Lasso Regression (on Poly features) ==========
R2: -0.029529259503132232
RMSE: 2.828444069635221
Intercept: -1.6679293706325942
Coefficients:
202208人気度                           5.768027e-02
202208知名度                           2.976473e-02
pub_score2                          1.164087e-05
weightedPV5                         2.024796e-05
burst_weightedPV5                   5.878973e-05
all_news_count                     -7.931288e-03
202208人気度^2                         1.149899e-03
202208人気度 202208知名度                -1.569107e-03
202208人気度 pub_score2                3.812703e-07
202208人気度 weightedPV5              -1.392157e-06
202208人気度 burst_weightedPV5         2.805187e-06
202208人気度 all_news_count           -4.339499e-04
202208知名度^2                         3.523075e-05
202208知名度 pub_score2               -2.574905e-07
202208知名度 weightedPV5               4.222969e-07
202208知名度 burst_weightedPV5        -1.988384e-06
202208知名度 all_news_count            2.311853e-04
pub_score2^2                       -4.477311e-12
pub_score2 weightedPV5             -5.716350e-11
pub_score2 burst_weightedPV5        3.452932e-10
pub_score2 browserank              -1.036782e-05
pub_score2 pagerank                 5.079830e-03
pub_score2 all_news_count           1.749237e-08
weightedPV5^2                       3.740379e-11
weightedPV5 burst_weightedPV5      -3.551205e-10
weightedPV5 browserank              8.342303e-04
weightedPV5 pagerank                2.793530e-02
weightedPV5 all_news_count          9.781536e-08
burst_weightedPV5^2                 2.544869e-10
burst_weightedPV5 browserank       -7.774776e-03
burst_weightedPV5 pagerank         -9.968769e-02
burst_weightedPV5 all_news_count   -4.712579e-07
all_news_count^2                   -2.339864e-05
dtype: float64
```

## -1乗

![a](kaiki20.png)

```
========== Linear Regression ==========
Coefficients: [-2.44027771e-02 -8.38693189e-07  2.52634801e-05 -7.19381135e+01
 -5.06616469e+00 -8.56018831e-08  2.18478680e+03  7.13476098e-07]
Intercept: 1.430313175892221
R2: 0.2144440523778589
RMSE: 2.470681759377514

========== Polynomial Regression (degree=2 + 1/x) ==========
R2: -564.8201623954333
RMSE: 66.3082334587061
Intercept: -2.9023939949977446
Coefficients:
202208知名度                         6.669777e-02
pub_score2                        6.778099e-06
weightedPV5                       4.388371e-05
browserank                        2.664859e+02
202208知名度_inv                     8.391079e+00
pub_score2_inv                   -6.108729e-03
weightedPV5_inv                   1.652468e+00
browserank_inv                    6.346494e-06
202208知名度^2                      -4.452364e-04
202208知名度 pub_score2             -5.167087e-08
202208知名度 weightedPV5            -4.134511e-07
202208知名度 browserank             -7.581910e-01
202208知名度 202208知名度_inv          -6.533741e-06
202208知名度 pub_score2_inv          1.792022e-06
202208知名度 weightedPV5_inv         2.448048e+02
202208知名度 browserank_inv         -4.248398e-09
pub_score2^2                     -1.008109e-12
pub_score2 weightedPV5           -3.978709e-12
pub_score2 browserank            -1.982863e-05
pub_score2 202208知名度_inv          4.493366e-05
pub_score2 pub_score2_inv        -5.387536e-07
pub_score2 weightedPV5_inv       -1.250004e-01
pub_score2 browserank_inv        -6.511090e-12
weightedPV5^2                     1.833193e-11
weightedPV5 browserank           -1.792430e-03
weightedPV5 202208知名度_inv        -1.934852e-04
weightedPV5 pub_score2_inv        2.841818e-11
weightedPV5 weightedPV5_inv      -1.716257e-06
weightedPV5 browserank_inv        2.029916e-11
browserank^2                     -1.368852e+00
browserank 202208知名度_inv          1.617685e+01
browserank pub_score2_inv        -8.326312e-03
browserank weightedPV5_inv        6.390513e-03
browserank browserank_inv        -4.278418e-08
202208知名度_inv^2                  -6.689675e+00
202208知名度_inv pub_score2_inv      8.943718e-03
202208知名度_inv weightedPV5_inv    -4.212705e-01
202208知名度_inv browserank_inv     -9.911266e-06
pub_score2_inv^2                  5.853007e-09
pub_score2_inv weightedPV5_inv    6.592196e-02
pub_score2_inv browserank_inv    -1.075562e-10
weightedPV5_inv^2                -3.815032e-04
weightedPV5_inv browserank_inv    2.465576e-04
browserank_inv^2                 -4.000385e-12
dtype: float64

========== Lasso Regression (Poly + 1/x) ==========
R2: -39.71572164233344
RMSE: 17.78727078725591
Intercept: -1.572976082272435
Coefficients:
202208知名度                         4.455179e-02
pub_score2                        7.240386e-06
weightedPV5                       3.757126e-05
pub_score2_inv                    1.130725e-06
browserank_inv                    4.421830e-07
202208知名度^2                      -2.630501e-04
202208知名度 pub_score2             -7.128531e-08
202208知名度 weightedPV5            -3.686271e-07
202208知名度 pub_score2_inv          4.179138e-07
202208知名度 browserank_inv          3.731569e-08
pub_score2^2                     -1.169907e-12
pub_score2 weightedPV5           -2.465687e-12
pub_score2 browserank             1.229047e-04
pub_score2 202208知名度_inv          3.221568e-05
pub_score2 weightedPV5_inv       -5.282306e-02
pub_score2 browserank_inv        -6.694611e-12
weightedPV5^2                     2.013812e-11
weightedPV5 browserank           -9.974967e-04
weightedPV5 202208知名度_inv        -1.427652e-04
weightedPV5 pub_score2_inv        1.288616e-11
weightedPV5 browserank_inv        2.419998e-11
browserank pub_score2_inv        -1.246987e-03
202208知名度_inv pub_score2_inv      2.311417e-03
202208知名度_inv browserank_inv      4.657039e-06
pub_score2_inv^2                 -6.565838e-11
pub_score2_inv weightedPV5_inv    2.995848e-02
pub_score2_inv browserank_inv    -2.633783e-12
weightedPV5_inv browserank_inv    1.834431e-03
browserank_inv^2                 -1.652194e-12
dtype: float64
```

## diff/202208

![a](kaiki21.png)

```
========== Linear Regression ==========
Coefficients: [-1.90678786e-03  2.89047237e-08  7.34177503e-07 -2.99447398e+00]
Intercept: 0.10853818347335992
R2: 0.1315578665484084
RMSE: 0.11439317007346747

========== Polynomial Regression (degree=2 + 1/x) ==========
R2: -0.22278607297774422
RMSE: 0.13573907782995623
Intercept: -0.007367949450803879
Coefficients:
202208知名度                -3.881082e-03
pub_score2                5.735173e-07
weightedPV5               2.492439e-06
browserank               -3.026745e+01
202208知名度^2               4.853029e-05
202208知名度 pub_score2     -7.671722e-09
202208知名度 weightedPV5    -2.598503e-08
202208知名度 browserank      4.114705e-01
pub_score2^2              5.320705e-14
pub_score2 weightedPV5    1.948986e-13
pub_score2 browserank    -9.707301e-06
weightedPV5^2            -1.925153e-12
weightedPV5 browserank    1.882771e-06
browserank^2              2.034098e-01
dtype: float64

========== Lasso Regression (Poly + 1/x) ==========
R2: -0.5986606201813929
RMSE: 0.1552057444055207
Intercept: -0.0029931702229634705
Coefficients:
202208知名度                -4.015944e-03
pub_score2                5.316360e-07
weightedPV5               2.353227e-06
202208知名度^2               4.915482e-05
202208知名度 pub_score2     -6.884854e-09
202208知名度 weightedPV5    -2.366405e-08
pub_score2^2             -2.776996e-15
pub_score2 weightedPV5    2.743256e-13
pub_score2 browserank     7.771025e-06
weightedPV5^2            -1.769417e-12
weightedPV5 browserank   -6.660631e-05
dtype: float64
```

## "202208知名度", "weightedPV5", "aware_diff_past" -> 知名度変化量

![a](kaiki22.png)

```
========== Linear Regression ==========
Coefficients: [-2.25813716e-02  1.55617886e-05  1.87293300e-02]
Intercept: 1.6516093221838613
R2: 0.16111117638541517
RMSE: 2.317109930635559

========== Polynomial Regression (degree=2 + 1/x) ==========
R2: 0.19687006051312594
RMSE: 2.2671869982523707
Intercept: -1.628343671528754
Coefficients:
202208知名度                      5.130409e-02
weightedPV5                    4.972155e-05
aware_diff_past                5.541877e-02
202208知名度^2                   -3.370502e-04
202208知名度 weightedPV5         -5.095803e-07
202208知名度 aware_diff_past     -1.380481e-03
weightedPV5^2                 -2.082168e-12
weightedPV5 aware_diff_past    5.302803e-07
aware_diff_past^2             -9.394375e-04
dtype: float64

========== Lasso Regression (Poly + 1/x) ==========
R2: 0.19721623454938242
RMSE: 2.2666983314585334
Intercept: -1.6184141640221594
Coefficients:
202208知名度                      5.073773e-02
weightedPV5                    4.985439e-05
aware_diff_past                5.231386e-02
202208知名度^2                   -3.320620e-04
202208知名度 weightedPV5         -5.104298e-07
202208知名度 aware_diff_past     -1.343729e-03
weightedPV5^2                 -2.379093e-12
weightedPV5 aware_diff_past    5.366652e-07
aware_diff_past^2             -9.436291e-04
dtype: float64
```

## "202208知名度", "weightedPV5", "aware_diff_past", "pub_score2" -> 知名度変化量

![a](kaiki23.png)

```
========== Linear Regression ==========
Coefficients: [-1.89784440e-02  1.92616104e-05 -1.38556172e-06  2.49133871e-02]
Intercept: 1.5034547965855458
R2: 0.16507445804209686
RMSE: 2.311629924652689

========== Polynomial Regression (degree=2 + 1/x) ==========
R2: 0.22618511343474612
RMSE: 2.225425061375925
Intercept: -1.6538391065890359
Coefficients:
202208知名度                      4.711705e-02
weightedPV5                    4.610484e-05
pub_score2                     2.566065e-06
aware_diff_past                5.569007e-02
202208知名度^2                   -2.846158e-04
202208知名度 weightedPV5         -4.922270e-07
202208知名度 pub_score2          -1.877328e-08
202208知名度 aware_diff_past     -1.464229e-03
weightedPV5^2                 -2.585785e-11
weightedPV5 pub_score2         2.019303e-11
weightedPV5 aware_diff_past    5.752641e-08
pub_score2^2                  -3.778187e-12
pub_score2 aware_diff_past     1.449078e-07
aware_diff_past^2             -1.415392e-03
dtype: float64

========== Lasso Regression (Poly + 1/x) ==========
R2: 0.2266110615953626
RMSE: 2.224812481927374
Intercept: -1.6453702027996653
Coefficients:
202208知名度                      4.646075e-02
weightedPV5                    4.615326e-05
pub_score2                     2.624051e-06
aware_diff_past                5.218893e-02
202208知名度^2                   -2.781706e-04
202208知名度 weightedPV5         -4.916518e-07
202208知名度 pub_score2          -1.964653e-08
202208知名度 aware_diff_past     -1.419077e-03
weightedPV5^2                 -2.614365e-11
weightedPV5 pub_score2         2.014410e-11
weightedPV5 aware_diff_past    6.642467e-08
pub_score2^2                  -3.758839e-12
pub_score2 aware_diff_past     1.432525e-07
aware_diff_past^2             -1.410569e-03
dtype: float64
```

## "202208知名度", "weightedPV5", "aware_diff_past", "pub_score2" -> 知名度変化量/log(202208知名度)

![a](kaiki24.png)

```
========== Linear Regression ==========
Coefficients: [-1.59992147e-02 -7.32466096e-07  1.16660976e-05  1.36680942e-02]
Intercept: 1.1835877320164858
R2: 0.19502946068455018
RMSE: 1.3914679798437475

========== Polynomial Regression (degree=2 + 1/x) ==========
R2: 0.28410745205492194
RMSE: 1.3122214864333728
Intercept: -0.6813956079930318
Coefficients:
202208知名度                      1.292903e-02
pub_score2                     2.019578e-06
weightedPV5                    3.169414e-05
aware_diff_past                2.454265e-02
202208知名度^2                   -3.337028e-05
202208知名度 pub_score2          -1.816560e-08
202208知名度 weightedPV5         -3.522031e-07
202208知名度 aware_diff_past     -6.664160e-04
pub_score2^2                  -1.933723e-12
pub_score2 weightedPV5         1.143717e-11
pub_score2 aware_diff_past     6.476613e-08
weightedPV5^2                 -1.433266e-11
weightedPV5 aware_diff_past    1.807119e-08
aware_diff_past^2             -7.007014e-04
dtype: float64

========== Lasso Regression (Poly + 1/x) ==========
R2: 0.28482445044357707
RMSE: 1.3115641975772534
Intercept: -0.6729267073747655
Coefficients:
202208知名度                      1.227272e-02
pub_score2                     2.077564e-06
weightedPV5                    3.174255e-05
aware_diff_past                2.104151e-02
202208知名度^2                   -2.692512e-05
202208知名度 pub_score2          -1.903886e-08
202208知名度 weightedPV5         -3.516279e-07
202208知名度 aware_diff_past     -6.212637e-04
pub_score2^2                  -1.914374e-12
pub_score2 weightedPV5         1.138823e-11
pub_score2 aware_diff_past     6.311078e-08
weightedPV5^2                 -1.461846e-11
weightedPV5 aware_diff_past    2.696946e-08
aware_diff_past^2             -6.958781e-04
dtype: float64
```

![a](ana61_aware_diff_top_combinations.png)
![a](ana62_aware_diff_top_combinations.png)

## "202208知名度", "pub_score1", "weightedPV1", "browserank" -> 知名度変化量/log(202208知名度)

![a](kaiki25.png)

```
========== Linear Regression ==========
Coefficients: [-1.65753156e-02 -8.95088177e-03  1.90389171e-05 -4.11938728e+01]
Intercept: 1.1231241038720652
R2: 0.21762741607081915
RMSE: 1.3717975899281007

========== Polynomial Regression (degree=2 + 1/x) ==========
R2: 0.3003499616811057
RMSE: 1.2972499270615654
Intercept: -0.8038814472699075
Coefficients:
202208知名度                 1.198426e-02
pub_score1                5.070345e-02
weightedPV1               5.266296e-05
browserank               -9.642037e+01
202208知名度^2               2.842082e-05
202208知名度 pub_score1     -7.742454e-04
202208知名度 weightedPV1    -6.080542e-07
202208知名度 browserank      1.209528e+00
pub_score1^2             -1.000597e-03
pub_score1 weightedPV1    8.050769e-07
pub_score1 browserank    -1.384505e-01
weightedPV1^2            -5.560163e-11
weightedPV1 browserank   -1.260071e-03
browserank^2              3.027593e+03
dtype: float64

========== Lasso Regression (Poly + 1/x) ==========
R2: 0.3043373523101356
RMSE: 1.2935480526427918
Intercept: -0.8006547672105756
Coefficients:
202208知名度                 1.243554e-02
pub_score1                5.105317e-02
weightedPV1               5.220817e-05
202208知名度^2               1.807958e-05
202208知名度 pub_score1     -6.837985e-04
202208知名度 weightedPV1    -6.094620e-07
pub_score1^2             -9.126007e-04
pub_score1 weightedPV1    5.797990e-07
weightedPV1^2            -4.045720e-11
weightedPV1 browserank   -4.248123e-05
dtype: float64
```

![a](ana63_aware_diff_top_combinations.png)
![a](ana64_aware_diff_top_combinations.png)
![a](ana65_aware_diff_top_combinations.png)

## "202208知名度", "weightedPV1", "202208知名度*weightedPV1" -> 知名度変化量/log(202208知名度)

![a](kaiki40.png)

```
========== Linear Regression ==========
Coefficients: [ 1.09921285e-02  6.05562214e-05 -6.58818152e-07]
Intercept: -0.7359833395534165
R2: 0.29867874109170023
RMSE: 1.286365350123586

========== Lasso Regression ==========
R2: 0.29866510644563216
RMSE: 1.2863778544151607
Intercept: -0.732840211974557
Coefficients:
202208知名度                1.094636e-02
weightedPV1              6.051455e-05
202208知名度*weightedPV1   -6.582048e-07
dtype: float64
```

## "202208知名度", "weightedPV1", "202208知名度*weightedPV1" -> 知名度変化量(100 - 202208知名度)/(202208知名度)

![a](kaiki41.png)

```
========== Linear Regression ==========
Coefficients: [-9.32512401e-03  1.79254436e-04 -2.06981972e-06]
Intercept: 0.5689576469087028
R2: 0.36351887078663736
RMSE: 4.7207209828666254

========== Lasso Regression ==========
R2: 0.36353892314727576
RMSE: 4.720646619039586
Intercept: 0.5658211204516972
Coefficients:
202208知名度               -0.009279
weightedPV1              0.000179
202208知名度*weightedPV1   -0.000002
dtype: float64
```

## "202208知名度", "weightedPV1", "202208知名度*weightedPV1" -> 知名度変化量/log((202208知名度)(100 - 202208知名度))

![a](kaiki42.png)

```
========== Linear Regression ==========
Coefficients: [ 6.08346835e-03  2.79014394e-05 -2.97141377e-07]
Intercept: -0.38847833007570753
R2: 0.2293458843005569
RMSE: 0.6811391325142219

========== Lasso Regression ==========
R2: 0.22932753816094364
RMSE: 0.6811472400419675
Intercept: -0.3853352018180639
Coefficients:
202208知名度                6.037696e-03
weightedPV1              2.785977e-05
202208知名度*weightedPV1   -2.965280e-07
dtype: float64
```

## "202208知名度", "weightedPV1", "202208知名度*weightedPV1" -> 知名度変化量(100 - 202208知名度)/log(202208知名度)

![a](kaiki43.png)

```
========== Linear Regression ==========
Coefficients: [ 4.67541021e-01  4.00177758e-03 -4.55387004e-05]
Intercept: -38.43738526714384
R2: 0.43934917926765593
RMSE: 68.5086912791596

========== Lasso Regression ==========
R2: 0.4393488883211254
RMSE: 68.50870905525368
Intercept: -38.43424213340731
Coefficients:
202208知名度                0.467495
weightedPV1              0.004002
202208知名度*weightedPV1   -0.000046
dtype: float64
```

## "202208知名度", "weightedPV1", "202208知名度*weightedPV1" -> 知名度変化量log(100 - 202208知名度)/(202208知名度)

![a](kaiki44.png)

```
========== Linear Regression ==========
Coefficients: [ 2.49254793e-04  4.94818175e-06 -5.63898596e-08]
Intercept: -0.02004507758745487
R2: 0.39868695608198546
RMSE: 0.10478237030659353

========== Lasso Regression ==========
R2: 0.3980852084793248
RMSE: 0.10483478624379289
Intercept: -0.016901946012292987
Coefficients:
202208知名度                2.034825e-04
weightedPV1              4.906512e-06
202208知名度*weightedPV1   -5.577646e-08
dtype: float64
```

![a](ana66_aware_diff_top_combinations.png)
![a](ana67_aware_diff_top_combinations.png)
![a](ana68_aware_diff_top_combinations.png)


# 精度評価の関連研究について

## Webコンテンツの人気予測に関する調査研究
chrome-extension://efaidnbmnnnibpcajpcglclefindmkaj/https://www.research-collection.ethz.ch/server/api/core/bitstreams/4d524801-7c13-4e7e-98af-1a75ef33b1e7/content
### 予測手法
- 対数変換線形回帰モデル(Log-linear model): 対数変換された線形回帰モデルで、DiggのストーリーやYouTubeの動画など、様々なデータセットで良好な予測性能を示す
- 生存分析(Survival analysi): コンテンツが一定期間後も引き続き注目を集めるかどうかを予測、Cox比例ハザード回帰モデルを使用し、イベントを「ウェブコンテンツが特定のしきい値を超える人気値に達する時間」として定義
- ロジスティック回帰(Logistic regression)： Twitterの投稿のリツイート数の予測を多クラス分類タスクとして扱い、ロジスティック回帰分類関数を使用して、リツイートされないメッセージや10,000回以上リツイートされるメッセージを正確に予測できることを示した
- 多変量線形回帰(Multivariate linear regression): 一定の期間でサンプリングされた人気度の履歴ベクトルを使用して、YouTube動画の将来の人気を予測する手法、一定のスケーリングモデルと比較して、平均14%の改善を示した
- 時系列予測モデル(Time series prediction model)/ ARMAモデル: 長期間人気のある動画について、日次の視聴回数を自己回帰移動平均（ARMA）モデルを通じてモデリングできることを発見
- kSAIT(top-k Similar Author-Identical historic Tweets): ツイートの作者に基づいてツイートが同様の方法でリツイートされるという仮定の下、ユーザー固有の予測関数を訓練し、過去の類似したツイートから人気度を推定するアルゴリズム
  
### 評価指標
- 線形関連度:
  - ニュース記事の正確な人気（ツイート数）を予測することは、大きな誤差を伴う傾向がある（ $R^2=0.34$ ）
- 二乗誤差に基づく指標:
  - 平均二乗誤差 (Mean Squared Error, MSE): 二乗誤差の平均を報告
  - 二乗平均平方根誤差 (Root Mean Squared Error, RMSE): MSEの平方根をとることで、推定値と同じ次元で誤差を表現
  - MSEの制約: 二乗誤差は外れ値の影響を過度に重視する
- 絶対誤差に基づく指標:
  - 平均絶対誤差 (Mean Absolute Error, MAE): 外れ値の影響が大きい場合に有効な代替手段
  - 絶対誤差は、実際の人気の値の範囲が分かっている場合にのみ意味をもって解釈できる
- 相対誤差に基づく指標:
  - 平均相対誤差 (Mean Relative Error, MRE): 相対誤差を表現する方法。
  - 平均相対二乗誤差 (Mean Relative Squared Error, MRSE): 相対誤差を二乗して平均を求めたもの
  - 相対的尺度の有用性: 人気の値の範囲が大きく異なる研究間（例：YouTubeの視聴回数とニュースウェブサイトのコメント数）で予測アルゴリズムの効率を比較するのに役立つ

## オンライン動画の視聴回数を予測するための回帰分析手法
chrome-extension://efaidnbmnnnibpcajpcglclefindmkaj/https://arxiv.org/pdf/1510.06223

予測の正確さを示す主要な指標としてスピアマン順位相関係数が用いられている

## ソーシャルメディアにおけるニュースの鼓動：人気予測
https://www.researchgate.net/publication/221661401_The_Pulse_of_News_in_Social_Media_Forecasting_Popularity
### 予測手法
| 変数名 | 特徴量の説明 | 詳細 | 
|:--|:--|:--|
| S | Source t-density score（発信元スコア） | 過去のTwitterでの成功に基づき、発信元（ニュースソース）ごとに割り当てられた、記事あたりの平均ツイート数（t-density） | 
| C | Category t-density score（カテゴリスコア） | 記事が属するカテゴリ（例：政治、スポーツなど）の過去の人気傾向を示す、記事あたりの平均ツイート数（t-density） | 
| Subj | Subjectivity（主観性） | 記事の言語が主観的であるか客観的であるかに基づくバイナリ値（0または1） | 
| Entct | Named entities（固有名詞の数） | 記事内（タイトルと要約）で言及されている固有名詞（場所、人物、組織）の数 | 
| Entmax | Named entities（最大スコア） | 記事内のすべての固有名詞の中で最も高いt-densityスコア | 
| Entavg | Named entities（平均スコア） | 記事内の固有名詞の平均t-densityスコア | 
  
### 評価指標
- 記事が「低ツイート」「中ツイート」「高ツイート」のどの人気クラスに属するかを予測する分類アルゴリズム

| 手法 | 精度 (Accuracy) | 
|:--|:--|
| Bagging | 83.96% |
| J48 Decision Trees | 83.75% |
| SVM | 81.54% |
| Naive Bayes | 77.79% |

- ツイートの正確な値（対数変換後）を予測する回帰アルゴリズム

| 回帰手法 | 対象データ | R²値 |
|:--|:--|:--|
| 線形回帰 (Linear Regression) | 全データ | 0.34 |
| SVM回帰 (SVM Regression) | 全データ | 0.32 |
| 線形回帰 (Category-specific) | テクノロジーカテゴリのみ | 0.43 |
| KNN回帰 (K=7, K=3) | 10kテストセット | 0.05 |


